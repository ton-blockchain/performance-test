<!DOCTYPE html>
<html lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <head>
    <meta charset="UTF-8" />
    <title>TON Lunar Expedition</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./favicon-16x16.png"
    />
    <link rel="icon" sizes="24x24" href="./favicon-24x24.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{APP_FAVICON_32_URL}"
    />
    <link rel="icon" sizes="64x64" href="./favicon-64x64.ico" />
    <link rel="icon" sizes="96x96" href="./favicon-96x96.ico" />
    <link rel="icon" sizes="144x144" href="./favicon-144x144.ico" />
    <link rel="icon" sizes="169x169" href="./favicon-169x169.ico" />
    <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#0098EA" />
    <link href="./style.css" rel="stylesheet" />

    <script
      defer
      data-domain="live.ton.org"
      src="https://plausible.io/js/script.js"
    ></script>

    <script type="text/javascript">
      (function (f, b) {
        if (!b.__SV) {
          var e, g, i, h;
          window.mixpanel = b;
          b._i = [];
          b.init = function (e, f, c) {
            function g(a, d) {
              var b = d.split(".");
              2 == b.length && ((a = a[b[0]]), (d = b[1]));
              a[d] = function () {
                a.push([d].concat(Array.prototype.slice.call(arguments, 0)));
              };
            }
            var a = b;
            "undefined" !== typeof c ? (a = b[c] = []) : (c = "mixpanel");
            a.people = a.people || [];
            a.toString = function (a) {
              var d = "mixpanel";
              "mixpanel" !== c && (d += "." + c);
              a || (d += " (stub)");
              return d;
            };
            a.people.toString = function () {
              return a.toString(1) + ".people (stub)";
            };
            i =
              "disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(
                " "
              );
            for (h = 0; h < i.length; h++) g(a, i[h]);
            var j = "set set_once union unset remove delete".split(" ");
            a.get_group = function () {
              function b(c) {
                d[c] = function () {
                  call2_args = arguments;
                  call2 = [c].concat(Array.prototype.slice.call(call2_args, 0));
                  a.push([e, call2]);
                };
              }
              for (
                var d = {},
                  e = ["get_group"].concat(
                    Array.prototype.slice.call(arguments, 0)
                  ),
                  c = 0;
                c < j.length;
                c++
              )
                b(j[c]);
              return d;
            };
            b._i.push([e, f, c]);
          };
          b.__SV = 1.2;
          e = f.createElement("script");
          e.type = "text/javascript";
          e.async = !0;
          e.src =
            "undefined" !== typeof MIXPANEL_CUSTOM_LIB_URL
              ? MIXPANEL_CUSTOM_LIB_URL
              : "file:" === f.location.protocol &&
                "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)
              ? "https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"
              : "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";
          g = f.getElementsByTagName("script")[0];
          g.parentNode.insertBefore(e, g);
        }
      })(document, window.mixpanel || []);
    </script>
  </head>
  <body>
    <div class="bg"></div>
    <header><div class="logo"></div></header>
    <div class="container">
      <div class="content">
        <h1 class="title">
          Witness <img src="./assets/icons/telegram.svg" />TON's Historic
          Public Performance Test
        </h1>
        <p class="subtitle">
          Join us on October 31st, 15:00 UTC, as we showcase the technical
          prowess of The Open Network blockchain. TON is the world's fastest and
          most scalable blockchain. Bookmark this page and experience TON's
          performance for yourself in real-time.
        </p>
        <a class="button" id="link" href="https://t.me/toncoin/1022"
          >Read more</a
        >
        <div id="timer"></div>
      </div>
    </div>

    <script>
      const double = (n) => {
        if (n < 10) return "0" + n;
        return n;
      };

      const updateTimer = () => {
        const endTime = 1698764400;

        const time = Math.round(Date.now() / 1000);

        const duration = endTime - time;

        const seconds = duration % 60;
        const minutes = Math.floor((duration / 60) % 60);
        const hours = Math.floor((duration / 60 / 60) % 24);
        const days = Math.floor(duration / 60 / 60 / 24);

        document.getElementById("timer").innerHTML =
          "T-" +
          `<span class="timer-item">${double(days)}</span>` +
          `<span class="timer-item">${double(hours)}</span>` +
          `<span class="timer-item">${double(minutes)}</span>` +
          `<span class="timer-item">${double(seconds)}</span>`;
      };
      setInterval(updateTimer, 1000);

      updateTimer();

      try {
        mixpanel.init("18eae12a1c9acfd61056840945c3b05c", {
          debug: true,
          track_pageview: true,
          persistence: "localStorage",
        });

        let uuid = localStorage.getItem("uuid");
        if (!uuid) {
          uuid =
            Math.random().toString(36).substring(2, 15) +
            Math.random().toString(36).substring(2, 15);
          localStorage.setItem("uuid", uuid);
        }
        mixpanel.identify(uuid);
      } catch (e) {
        console.error(e);
      }

      document.querySelector("#link").addEventListener("click", () => {
        try {
          mixpanel.track("Read More Click", {});
        } catch (e) {
          console.error(e);
        }
      });
    </script>
  </body>
</html>
